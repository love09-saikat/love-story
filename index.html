<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoveStory - Connect Hearts, Build Relationships</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', sans-serif;
        }

        :root {
            --primary: #ff4d94;
            --primary-dark: #e04484;
            --secondary: #ff9ec5;
            --accent: #ffd166;
            --success: #06d6a0;
            --warning: #ffd166;
            --danger: #ef476f;
            --dark: #1a1a2e;
            --darker: #16213e;
            --light: #ffffff;
            --muted: #8d99ae;
            --card-bg: rgba(255, 255, 255, 0.95);
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --border: rgba(255, 255, 255, 0.2);
        }

        body {
            background: var(--bg-gradient);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            background: rgba(26, 26, 46, 0.9);
            backdrop-filter: blur(20px);
            padding: 1rem 2rem;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            border-bottom: 1px solid var(--border);
        }

        .header-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .logo-icon {
            color: var(--primary);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-item {
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-item:hover, .nav-item.active {
            background: var(--primary);
            transform: translateY(-2px);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            border: 3px solid var(--accent);
            transition: all 0.3s ease;
        }

        .user-avatar:hover {
            transform: scale(1.1);
            border-color: var(--primary);
        }

        /* Main Layout */
        .main-container {
            display: grid;
            grid-template-columns: 280px 1fr 320px;
            gap: 2rem;
            max-width: 1400px;
            margin: 100px auto 2rem;
            padding: 0 1rem;
        }

        /* Sidebars */
        .sidebar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid var(--border);
            height: fit-content;
        }

        .sidebar-title {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .feature-card:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .feature-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        /* Main Content */
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        /* Create Post */
        .create-post {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow);
        }

        .post-input-container {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .post-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
            color: white;
            flex-shrink: 0;
        }

        .post-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 25px;
            padding: 1rem 1.5rem;
            font-size: 1rem;
            resize: none;
            min-height: 60px;
            color: var(--dark);
        }

        .post-input:focus {
            outline: none;
            box-shadow: 0 0 0 3px var(--primary);
        }

        .post-actions {
            display: flex;
            gap: 1rem;
            justify-content: space-between;
        }

        .action-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            background: var(--primary);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .action-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        /* Posts */
        .post {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow);
            color: var(--dark);
        }

        .post-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .post-user-info {
            flex: 1;
        }

        .post-user-name {
            font-weight: 600;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .post-time {
            color: var(--muted);
            font-size: 0.9rem;
        }

        .post-content {
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .post-image {
            width: 100%;
            border-radius: 15px;
            margin-bottom: 1rem;
            max-height: 400px;
            object-fit: cover;
        }

        .post-stats {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-top: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
            color: var(--muted);
        }

        .post-actions-row {
            display: flex;
            gap: 1rem;
            padding-top: 1rem;
        }

        .post-action-btn {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.8rem;
            border: none;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--dark);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .post-action-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        /* Intimacy System */
        .intimacy-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border: 2px solid var(--primary);
        }

        .intimacy-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .intimacy-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .intimacy-progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .partnership-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--success);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 25px;
            padding: 3rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            color: var(--dark);
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--muted);
        }

        .modal-title {
            font-size: 2rem;
            margin-bottom: 2rem;
            text-align: center;
            color: var(--primary);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-input {
            width: 100%;
            padding: 1rem 1.5rem;
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 77, 148, 0.1);
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .gender-selection {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .gender-option {
            flex: 1;
            padding: 1.5rem;
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .gender-option.selected {
            border-color: var(--primary);
            background: rgba(255, 77, 148, 0.1);
        }

        /* Profile Page */
        .profile-container {
            background: var(--card-bg);
            border-radius: 25px;
            overflow: hidden;
            box-shadow: var(--shadow);
            color: var(--dark);
        }

        .profile-header {
            height: 300px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            position: relative;
        }

        .profile-avatar {
            position: absolute;
            bottom: -50px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: var(--primary);
            border: 5px solid var(--card-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
            font-weight: bold;
        }

        .profile-info {
            padding: 80px 2rem 2rem;
            text-align: center;
        }

        .profile-name {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .profile-uid {
            color: var(--muted);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .profile-bio {
            color: var(--muted);
            margin-bottom: 2rem;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.1);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--muted);
        }

        /* Settings */
        .settings-container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow);
            color: var(--dark);
            display: none;
        }

        .settings-section {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border);
        }

        .settings-title {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .settings-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .settings-option:last-child {
            border-bottom: none;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Feeling/Activity Selector */
        .feeling-selector {
            display: none;
            position: absolute;
            background: white;
            border-radius: 15px;
            padding: 1rem;
            box-shadow: var(--shadow);
            z-index: 10;
            max-width: 300px;
            color: var(--dark);
        }

        .feeling-options {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
        }

        .feeling-option {
            padding: 0.5rem;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .feeling-option:hover {
            background: var(--primary);
            color: white;
        }

        /* Messages */
        .messages-container {
            display: none;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow);
            color: var(--dark);
            height: 600px;
            flex-direction: column;
        }

        .messages-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .conversations-list {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 1rem;
        }

        .conversation-item {
            padding: 1rem;
            border-radius: 15px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .conversation-item:hover, .conversation-item.active {
            background: rgba(255, 77, 148, 0.1);
        }

        .message-input-container {
            display: flex;
            gap: 1rem;
        }

        .message-input {
            flex: 1;
            padding: 1rem;
            border: 1px solid var(--border);
            border-radius: 15px;
            resize: none;
        }

        /* Discover */
        .discover-container {
            display: none;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow);
            color: var(--dark);
        }

        .discover-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .user-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .user-card:hover {
            transform: translateY(-5px);
        }

        .user-card-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
            color: white;
            margin: 0 auto 1rem;
        }

        /* Official ID Badge */
        .official-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, #ff4d94, #ffd166);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            margin-left: 0.5rem;
        }

        /* Owner Controls */
        .owner-controls {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            margin-top: 1rem;
            border: 2px solid var(--accent);
        }

        .owner-title {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Visit Profile Button */
        .visit-profile-btn {
            background: transparent;
            border: none;
            color: var(--primary);
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 0.5rem;
            border-radius: 10px;
        }

        .visit-profile-btn:hover {
            background: rgba(255, 77, 148, 0.1);
        }

        /* Auth Toggle */
        .auth-toggle {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .auth-tab {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 15px;
            background: rgba(0, 0, 0, 0.1);
            color: var(--dark);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            text-align: center;
        }

        .auth-tab.active {
            background: var(--primary);
            color: white;
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        /* Social Login Buttons */
        .social-login {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .social-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1rem;
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            background: white;
            color: var(--dark);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .social-btn.google {
            border-color: #DB4437;
        }

        .social-btn.google:hover {
            background: #DB4437;
            color: white;
        }

        .social-btn.facebook {
            border-color: #4267B2;
        }

        .social-btn.facebook:hover {
            background: #4267B2;
            color: white;
        }

        .divider {
            text-align: center;
            margin: 1.5rem 0;
            color: var(--muted);
            position: relative;
        }

        .divider::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: rgba(0, 0, 0, 0.1);
        }

        .divider span {
            background: var(--card-bg);
            padding: 0 1rem;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .main-container {
                grid-template-columns: 250px 1fr;
            }
            .right-sidebar {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                grid-template-columns: 1fr;
                margin-top: 80px;
            }
            .left-sidebar {
                display: none;
            }
            .header-container {
                flex-direction: column;
                gap: 1rem;
            }
            .nav-menu {
                gap: 0.5rem;
            }
            .nav-item {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <div class="logo-icon">üíñ</div>
                <div>LoveStory</div>
            </div>
            
            <nav class="nav-menu">
                <div class="nav-item active" onclick="showSection('feed')">üè† Home</div>
                <div class="nav-item" onclick="showSection('profile')">üë§ Profile</div>
                <div class="nav-item" onclick="showSection('messages')">üíå Messages</div>
                <div class="nav-item" onclick="showSection('discover')">üîç Discover</div>
            </nav>
            
            <div class="user-menu" onclick="showProfile()">
                <div class="user-avatar" id="userAvatar">U</div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Left Sidebar -->
        <div class="left-sidebar">
            <div class="sidebar-title">‚ú® Features</div>
            
            <div class="feature-card" onclick="showSection('intimacy')">
                <div class="feature-icon">üíï</div>
                <div class="feature-title">Intimacy System</div>
                <div class="feature-desc">Build connections and earn points</div>
            </div>
            
            <div class="feature-card" onclick="showSection('partnerships')">
                <div class="feature-icon">ü§ù</div>
                <div class="feature-title">Partnerships</div>
                <div class="feature-desc">Create meaningful relationships</div>
            </div>
            
            <div class="feature-card" onclick="showSection('memories')">
                <div class="feature-icon">üì∏</div>
                <div class="feature-title">Memory Gallery</div>
                <div class="feature-desc">Save your special moments</div>
            </div>
            
            <div class="feature-card" onclick="showSection('goals')">
                <div class="feature-icon">üéØ</div>
                <div class="feature-title">Relationship Goals</div>
                <div class="feature-desc">Track your journey together</div>
            </div>

            <!-- Intimacy Progress -->
            <div class="intimacy-card">
                <div class="intimacy-header">
                    <span>üíû With Jamie</span>
                    <span>65/100</span>
                </div>
                <div class="intimacy-bar">
                    <div class="intimacy-progress" style="width: 65%"></div>
                </div>
                <button class="action-btn" onclick="sendPartnershipRequest()">
                    Send Partnership Request
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <!-- Create Post Section -->
            <div class="create-post">
                <div class="post-input-container">
                    <div class="post-avatar" id="postUserAvatar">U</div>
                    <textarea class="post-input" placeholder="Share what's in your heart..." id="postContent"></textarea>
                </div>
                <div class="post-actions">
                    <button class="action-btn" onclick="togglePhotoUpload()">
                        üì∏ Add Photo
                    </button>
                    <button class="action-btn" onclick="toggleFeelingSelector()">
                        üòä Feeling
                    </button>
                    <button class="action-btn" onclick="createPost()">
                        ‚ú® Share Post
                    </button>
                </div>
                <!-- Feeling Selector -->
                <div class="feeling-selector" id="feelingSelector">
                    <div class="feeling-options">
                        <div class="feeling-option" onclick="selectFeeling('üòä Happy')">üòä</div>
                        <div class="feeling-option" onclick="selectFeeling('üò¢ Sad')">üò¢</div>
                        <div class="feeling-option" onclick="selectFeeling('üòç In Love')">üòç</div>
                        <div class="feeling-option" onclick="selectFeeling('üòé Cool')">üòé</div>
                        <div class="feeling-option" onclick="selectFeeling('ü§î Thoughtful')">ü§î</div>
                        <div class="feeling-option" onclick="selectFeeling('üò¥ Tired')">üò¥</div>
                        <div class="feeling-option" onclick="selectFeeling('üò† Angry')">üò†</div>
                        <div class="feeling-option" onclick="selectFeeling('ü§© Excited')">ü§©</div>
                    </div>
                </div>
                <!-- Photo Upload -->
                <input type="file" id="photoUpload" accept="image/*" style="display: none;" onchange="handlePhotoUpload(event)">
            </div>

            <!-- Messages Section -->
            <div class="messages-container" id="messagesContainer">
                <div class="messages-header">
                    <div class="sidebar-title">üíå Messages</div>
                </div>
                <div class="conversations-list" id="conversationsList">
                    <!-- Conversations will be populated here -->
                </div>
                <div class="message-input-container">
                    <textarea class="message-input" placeholder="Type your message..." id="messageInput"></textarea>
                    <button class="action-btn" onclick="sendMessage()">Send</button>
                </div>
            </div>

            <!-- Discover Section -->
            <div class="discover-container" id="discoverContainer">
                <div class="sidebar-title">üîç Discover New Connections</div>
                <div class="discover-grid" id="discoverGrid">
                    <!-- User cards will be populated here -->
                </div>
            </div>

            <!-- Settings Section -->
            <div class="settings-container" id="settingsContainer">
                <div class="settings-section">
                    <div class="settings-title">‚öôÔ∏è Account Settings</div>
                    <div class="settings-option">
                        <div>
                            <div style="font-weight: 600;">Email Notifications</div>
                            <div style="font-size: 0.9rem; color: var(--muted);">Receive email updates about your connections</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-option">
                        <div>
                            <div style="font-weight: 600;">Push Notifications</div>
                            <div style="font-size: 0.9rem; color: var(--muted);">Get notified about new messages and activities</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-option">
                        <div>
                            <div style="font-weight: 600;">Profile Visibility</div>
                            <div style="font-size: 0.9rem; color: var(--muted);">Allow others to find your profile</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <div class="settings-title">üîí Privacy & Security</div>
                    <div class="settings-option">
                        <div>
                            <div style="font-weight: 600;">Private Account</div>
                            <div style="font-size: 0.9rem; color: var(--muted);">Only approved connections can see your posts</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-option">
                        <div>
                            <div style="font-weight: 600;">Two-Factor Authentication</div>
                            <div style="font-size: 0.9rem; color: var(--muted);">Add an extra layer of security to your account</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-option">
                        <div>
                            <div style="font-weight: 600;">Data Backup</div>
                            <div style="font-size: 0.9rem; color: var(--muted);">Automatically backup your memories and data</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <div class="settings-title">üé® Appearance</div>
                    <div class="settings-option">
                        <div>
                            <div style="font-weight: 600;">Dark Mode</div>
                            <div style="font-size: 0.9rem; color: var(--muted);">Switch to dark theme</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-option">
                        <div>
                            <div style="font-weight: 600;">Language</div>
                            <div style="font-size: 0.9rem; color: var(--muted);">English</div>
                        </div>
                        <button class="action-btn" style="padding: 0.5rem 1rem;">Change</button>
                    </div>
                </div>

                <div class="settings-section">
                    <button class="btn btn-primary" onclick="showSupport()" style="margin-bottom: 1rem;">
                        üí¨ Contact Support
                    </button>
                    <button class="btn" onclick="logout()" style="background: var(--danger); color: white;">
                        üö™ Logout
                    </button>
                </div>
            </div>

            <!-- Posts Feed -->
            <div class="post" id="post1">
                <div class="post-header">
                    <div class="post-avatar">L</div>
                    <div class="post-user-info">
                        <div class="post-user-name">
                            Love Official 
                            <span class="official-badge">üíñ Official</span>
                            <button class="visit-profile-btn" onclick="visitUserProfile('LOVE001')">Visit Profile</button>
                        </div>
                        <div class="post-time">Just now</div>
                    </div>
                </div>
                <div class="post-content">
                    Welcome to LoveStory! üíñ This is the official account. We're here to help you build meaningful connections and create beautiful love stories. Feel free to reach out if you need any assistance!
                </div>
                <div class="post-stats">
                    <div>‚ù§Ô∏è 1.2K reactions</div>
                    <div>üí¨ 245 comments</div>
                </div>
                <div class="post-actions-row">
                    <button class="post-action-btn" onclick="reactToPost('like')">
                        ‚ù§Ô∏è Like
                    </button>
                    <button class="post-action-btn" onclick="focusComment()">
                        üí¨ Comment
                    </button>
                    <button class="post-action-btn" onclick="sharePost()">
                        üîÑ Share
                    </button>
                </div>
                
                <!-- Owner Controls (Only visible to owner) -->
                <div class="owner-controls" id="ownerControls1">
                    <div class="owner-title">üëë Owner Controls</div>
                    <div style="display: flex; gap: 1rem;">
                        <button class="action-btn" onclick="editOfficialPost('post1')" style="background: var(--accent); color: var(--dark);">
                            ‚úèÔ∏è Edit Post
                        </button>
                        <button class="action-btn" onclick="deleteOfficialPost('post1')" style="background: var(--danger);">
                            üóëÔ∏è Delete
                        </button>
                        <button class="action-btn" onclick="pinOfficialPost('post1')">
                            üìå Pin Post
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Sidebar -->
        <div class="sidebar right-sidebar">
            <div class="sidebar-title">üë• Connections</div>
            
            <div class="feature-card" onclick="openChat('jamie')">
                <div class="feature-title">Jamie Smith</div>
                <div class="feature-desc">üíñ Lover ¬∑ Online</div>
            </div>
            
            <div class="feature-card" onclick="openChat('alex')">
                <div class="feature-title">Alex Morgan</div>
                <div class="feature-desc">‚≠ê Best Friend ¬∑ Online</div>
            </div>

            <div class="sidebar-title" style="margin-top: 2rem;">üéØ Quick Actions</div>
            
            <button class="action-btn" onclick="showMemoryGallery()" style="width: 100%; margin-bottom: 1rem;">
                üì∏ Memory Gallery
            </button>
            
            <button class="action-btn" onclick="showRelationshipGoals()" style="width: 100%; margin-bottom: 1rem;">
                üéØ Set Goals
            </button>
            
            <button class="action-btn" onclick="showSettings()" style="width: 100%;">
                ‚öôÔ∏è Settings
            </button>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('loginModal')">√ó</button>
            <div class="modal-title">Welcome to LoveStory üíñ</div>
            
            <div class="auth-toggle">
                <button class="auth-tab active" onclick="showAuthForm('login')">Login</button>
                <button class="auth-tab" onclick="showAuthForm('register')">Register</button>
            </div>

            <!-- Login Form -->
            <div class="auth-form active" id="loginForm">
                <div class="form-group">
                    <input type="email" class="form-input" placeholder="Email Address" id="loginEmail">
                </div>
                
                <div class="form-group">
                    <input type="password" class="form-input" placeholder="Password" id="loginPassword">
                </div>
                
                <button class="btn btn-primary" onclick="loginWithEmail()">
                    Login with Email ‚ú®
                </button>

                <div class="divider">
                    <span>or</span>
                </div>

                <div class="social-login">
                    <button class="social-btn google" onclick="loginWithGoogle()">
                        <span>üîó</span> Continue with Google
                    </button>
                    <button class="social-btn facebook" onclick="loginWithFacebook()">
                        <span>üîó</span> Continue with Facebook
                    </button>
                </div>

                <div style="text-align: center; margin-top: 1rem;">
                    <button class="visit-profile-btn" onclick="showAdminLogin()">
                        üîë Admin Login
                    </button>
                </div>
            </div>

            <!-- Register Form -->
            <div class="auth-form" id="registerForm">
                <div class="form-group">
                    <input type="text" class="form-input" placeholder="Your Beautiful Name" id="fullName">
                </div>
                
                <div class="form-group">
                    <input type="email" class="form-input" placeholder="Email Address" id="email">
                </div>
                
                <div class="form-group">
                    <input type="password" class="form-input" placeholder="Create Secure Password" id="password">
                </div>
                
                <div class="form-group">
                    <label>Choose Your Identity (This is permanent)</label>
                    <div class="gender-selection">
                        <div class="gender-option" data-gender="male" onclick="selectGender('male')">
                            ‚ôÇÔ∏è Male
                        </div>
                        <div class="gender-option" data-gender="female" onclick="selectGender('female')">
                            ‚ôÄÔ∏è Female
                        </div>
                        <div class="gender-option" data-gender="other" onclick="selectGender('other')">
                            üí´ Other
                        </div>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="registerWithEmail()">
                    Start Your Love Story ‚ú®
                </button>

                <div class="divider">
                    <span>or sign up with</span>
                </div>

                <div class="social-login">
                    <button class="social-btn google" onclick="registerWithGoogle()">
                        <span>üîó</span> Sign up with Google
                    </button>
                    <button class="social-btn facebook" onclick="registerWithFacebook()">
                        <span>üîó</span> Sign up with Facebook
                    </button>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 1rem; color: var(--muted);">
                By joining, you agree to our loving community guidelines
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div class="modal" id="adminLoginModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('adminLoginModal')">√ó</button>
            <div class="modal-title">üëë Admin Login</div>
            
            <div class="form-group">
                <input type="text" class="form-input" placeholder="Admin Username" id="adminUsername">
            </div>
            
            <div class="form-group">
                <input type="password" class="form-input" placeholder="Admin Password" id="adminPassword">
            </div>
            
            <button class="btn btn-primary" onclick="loginAsAdmin()">
                Access Admin Account
            </button>
            
            <div style="text-align: center; margin-top: 1rem; color: var(--muted);">
                This area is restricted to platform administrators only
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="modal" id="profileModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('profileModal')">√ó</button>
            <div class="profile-container">
                <div class="profile-header"></div>
                <div class="profile-avatar" id="profileAvatar">U</div>
                <div class="profile-info">
                    <div class="profile-name" id="profileName">User Name</div>
                    <div class="profile-uid" id="profileUID">UID: LS000001</div>
                    <div class="profile-gender" id="profileGender">‚ôÇÔ∏è Male</div>
                    <div class="profile-bio" id="profileBio">This is my beautiful love story journey</div>
                    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                        <button class="action-btn" onclick="editProfile()" id="editProfileBtn">
                            ‚úèÔ∏è Edit Profile
                        </button>
                        <button class="action-btn" onclick="showSettings()">
                            ‚öôÔ∏è Settings
                        </button>
                    </div>
                </div>
                <div class="profile-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="postsCount">12</div>
                        <div class="stat-label">Posts</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="connectionsCount">8</div>
                        <div class="stat-label">Connections</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="intimacyScore">85%</div>
                        <div class="stat-label">Intimacy</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- User Profile Modal -->
    <div class="modal" id="userProfileModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('userProfileModal')">√ó</button>
            <div class="profile-container">
                <div class="profile-header"></div>
                <div class="profile-avatar" id="userProfileAvatar">U</div>
                <div class="profile-info">
                    <div class="profile-name" id="userProfileName">User Name</div>
                    <div class="profile-uid" id="userProfileUID">UID: LS000001</div>
                    <div class="profile-gender" id="userProfileGender">‚ôÇÔ∏è Male</div>
                    <div class="profile-bio" id="userProfileBio">This is my beautiful love story journey</div>
                    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                        <button class="action-btn" onclick="sendConnectionRequest()">
                            ü§ù Connect
                        </button>
                        <button class="action-btn" onclick="sendMessageToUser()">
                            üíå Message
                        </button>
                    </div>
                </div>
                <div class="profile-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="userPostsCount">12</div>
                        <div class="stat-label">Posts</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="userConnectionsCount">8</div>
                        <div class="stat-label">Connections</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="userIntimacyScore">85%</div>
                        <div class="stat-label">Intimacy</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal" id="editProfileModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('editProfileModal')">√ó</button>
            <div class="modal-title">Edit Your Profile</div>
            
            <div class="form-group">
                <label>Display Name</label>
                <input type="text" class="form-input" id="editName" placeholder="Your name">
            </div>
            
            <div class="form-group">
                <label>Gender</label>
                <div class="gender-selection">
                    <div class="gender-option" data-gender="male" onclick="selectEditGender('male')">
                        ‚ôÇÔ∏è Male
                    </div>
                    <div class="gender-option" data-gender="female" onclick="selectEditGender('female')">
                        ‚ôÄÔ∏è Female
                    </div>
                    <div class="gender-option" data-gender="other" onclick="selectEditGender('other')">
                        üí´ Other
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label>Bio</label>
                <textarea class="form-input" id="editBio" placeholder="Tell your story..." rows="4"></textarea>
            </div>
            
            <div class="form-group">
                <label>Profile Photo</label>
                <input type="file" id="editAvatar" accept="image/*" class="form-input">
            </div>
            
            <button class="btn btn-primary" onclick="saveProfile()">
                Save Changes
            </button>
        </div>
    </div>

    <!-- Official Account Controls Modal -->
    <div class="modal" id="officialControlsModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('officialControlsModal')">√ó</button>
            <div class="modal-title">üëë Official Account Controls</div>
            
            <div class="form-group">
                <label>Create Official Post</label>
                <textarea class="form-input" id="officialPostContent" placeholder="Share important updates..." rows="4"></textarea>
            </div>
            
            <div class="form-group">
                <label>Add Photo (Optional)</label>
                <input type="file" id="officialPostPhoto" accept="image/*" class="form-input">
            </div>
            
            <button class="btn btn-primary" onclick="createOfficialPost()">
                Publish as Official
            </button>
            
            <div class="settings-section" style="margin-top: 2rem;">
                <div class="settings-title">üîß Platform Management</div>
                <button class="action-btn" onclick="manageUsers()" style="width: 100%; margin-bottom: 1rem;">
                    üë• Manage Users
                </button>
                <button class="action-btn" onclick="viewAnalytics()" style="width: 100%; margin-bottom: 1rem;">
                    üìä View Analytics
                </button>
                <button class="action-btn" onclick="platformSettings()" style="width: 100%;">
                    ‚öôÔ∏è Platform Settings
                </button>
            </div>
        </div>
    </div>

    <script>
        // Application State
        const appState = {
            currentUser: null,
            posts: [],
            connections: [],
            intimacyLevels: {},
            currentSection: 'feed',
            users: [],
            conversations: [],
            selectedFeeling: null,
            uploadedPhoto: null,
            selectedGender: '',
            editSelectedGender: '',
            // Admin account
            adminAccount: {
                id: 'LOVE001',
                name: 'Love Official',
                avatar: 'L',
                bio: 'Official LoveStory account. Here to help you create beautiful connections!',
                isOfficial: true,
                email: 'admin@lovestory.com',
                password: 'Love74398',
                gender: 'other',
                posts: 15,
                connections: 245,
                intimacy: 95
            }
        };

        // DOM Elements
        const loginModal = document.getElementById('loginModal');
        const adminLoginModal = document.getElementById('adminLoginModal');
        const profileModal = document.getElementById('profileModal');
        const userProfileModal = document.getElementById('userProfileModal');
        const editProfileModal = document.getElementById('editProfileModal');
        const officialControlsModal = document.getElementById('officialControlsModal');
        const mainContent = document.getElementById('mainContent');
        const messagesContainer = document.getElementById('messagesContainer');
        const discoverContainer = document.getElementById('discoverContainer');
        const settingsContainer = document.getElementById('settingsContainer');
        const feelingSelector = document.getElementById('feelingSelector');
        const photoUpload = document.getElementById('photoUpload');

        // Show/Hide Auth Forms
        function showAuthForm(formType) {
            // Update tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show correct form
            document.getElementById('loginForm').classList.remove('active');
            document.getElementById('registerForm').classList.remove('active');
            document.getElementById(formType + 'Form').classList.add('active');
        }

        // Gender Selection for Registration
        function selectGender(gender) {
            appState.selectedGender = gender;
            document.querySelectorAll('.gender-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            event.target.classList.add('selected');
        }

        // Gender Selection for Edit Profile
        function selectEditGender(gender) {
            appState.editSelectedGender = gender;
            document.querySelectorAll('#editProfileModal .gender-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            event.target.classList.add('selected');
        }

        // Show Admin Login
        function showAdminLogin() {
            adminLoginModal.style.display = 'flex';
        }

        // Login as Admin
        function loginAsAdmin() {
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;

            if (username === 'Love Official' && password === 'Love74398') {
                appState.currentUser = {...appState.adminAccount};
                localStorage.setItem('loveStoryUser', JSON.stringify(appState.currentUser));
                updateUI();
                adminLoginModal.style.display = 'none';
                loginModal.style.display = 'none';
                showOwnerControls();
                alert('üëë Welcome back, Love Official!');
            } else {
                alert('‚ùå Invalid admin credentials. Access denied.');
            }
        }

        // Email Registration
        function registerWithEmail() {
            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            if (!fullName || !email || !password || !appState.selectedGender) {
                alert('Please complete all fields to start your love story!');
                return;
            }

            // Check if email already exists
            if (local.getItem('loveStoryUser_email_' + email)) {
                alert('This email is already registered. Please use a different email or login.');
                return;
            }

            // Generate unique UID
            const uid = generateUID();

            // Create user object
            appState.currentUser = {
                id: uid,
                name: fullName,
                email: email,
                gender: appState.selectedGender,
                avatar: fullName.charAt(0).toUpperCase(),
                joinDate: new Date(),
                posts: [],
                connections: [],
                bio: 'This is my beautiful love story journey',
                isOwner: false,
                postsCount: 0,
                connectionsCount: 0,
                intimacyScore: 0,
                password: password,
                loginMethod: 'email'
            };

            // Save to localStorage
            localStorage.setItem('loveStoryUser', JSON.stringify(appState.currentUser));
            localStorage.setItem('loveStoryUser_email_' + email, JSON.stringify(appState.currentUser));

            // Update UI and close modal
            updateUI();
            loginModal.style.display = 'none';
            
            // Show welcome message
            alert(`Welcome to LoveStory, ${fullName}! Your journey to meaningful connections begins now. üíñ`);
        }

        // Email Login
        function loginWithEmail() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                alert('Please enter both email and password!');
                return;
            }

            // Check if it's a registered user
            const savedUser = localStorage.getItem('loveStoryUser_email_' + email);
            if (savedUser) {
                const user = JSON.parse(savedUser);
                if (user.password === password) {
                    appState.currentUser = user;
                    localStorage.setItem('loveStoryUser', JSON.stringify(appState.currentUser));
                    updateUI();
                    loginModal.style.display = 'none';
                    alert(`Welcome back, ${user.name}!`);
                    return;
                }
            }

            alert('Invalid email or password. Please try again or register as a new user.');
        }

        // Google Login
        function loginWithGoogle() {
            alert('üîó Google login would be implemented here with proper OAuth integration');
            // Simulate Google login
            const uid = generateUID();
            appState.currentUser = {
                id: uid,
                name: 'Google User',
                email: 'googleuser@example.com',
                gender: 'other',
                avatar: 'G',
                joinDate: new Date(),
                bio: 'Connected via Google',
                isOwner: false,
                postsCount: 0,
                connectionsCount: 0,
                intimacyScore: 0,
                loginMethod: 'google'
            };
            localStorage.setItem('loveStoryUser', JSON.stringify(appState.currentUser));
            updateUI();
            loginModal.style.display = 'none';
            alert('Welcome! Google login successful. ‚ú®');
        }

        // Facebook Login
        function loginWithFacebook() {
            alert('üîó Facebook login would be implemented here with proper OAuth integration');
            // Simulate Facebook login
            const uid = generateUID();
            appState.currentUser = {
                id: uid,
                name: 'Facebook User',
                email: 'facebookuser@example.com',
                gender: 'other',
                avatar: 'F',
                joinDate: new Date(),
                bio: 'Connected via Facebook',
                isOwner: false,
                postsCount: 0,
                connectionsCount: 0,
                intimacyScore: 0,
                loginMethod: 'facebook'
            };
            localStorage.setItem('loveStoryUser', JSON.stringify(appState.currentUser));
            updateUI();
            loginModal.style.display = 'none';
            alert('Welcome! Facebook login successful. ‚ú®');
        }

        // Google Registration
        function registerWithGoogle() {
            alert('üîó Google registration would be implemented here with proper OAuth integration');
            loginWithGoogle(); // Same as login for demo
        }

        // Facebook Registration
        function registerWithFacebook() {
            alert('üîó Facebook registration would be implemented here with proper OAuth integration');
            loginWithFacebook(); // Same as login for demo
        }

        // Generate unique UID
        function generateUID() {
            return 'LS' + Math.random().toString(36).substr(2, 9).toUpperCase();
        }

        // Update UI with user data
        function updateUI() {
            if (appState.currentUser) {
                document.getElementById('userAvatar').textContent = appState.currentUser.avatar;
                document.getElementById('postUserAvatar').textContent = appState.currentUser.avatar;
                
                // Update profile modal
                document.getElementById('profileAvatar').textContent = appState.currentUser.avatar;
                document.getElementById('profileName').textContent = appState.currentUser.name;
                document.getElementById('profileUID').textContent = `UID: ${appState.currentUser.id}`;
                document.getElementById('profileGender').textContent = getGenderEmoji(appState.currentUser.gender) + ' ' + appState.currentUser.gender.charAt(0).toUpperCase() + appState.currentUser.gender.slice(1);
                document.getElementById('profileBio').textContent = appState.currentUser.bio;
                document.getElementById('postsCount').textContent = appState.currentUser.postsCount || 0;
                document.getElementById('connectionsCount').textContent = appState.currentUser.connectionsCount || 0;
                document.getElementById('intimacyScore').textContent = appState.currentUser.intimacyScore || '0%';
            }
        }

        // Get gender emoji
        function getGenderEmoji(gender) {
            switch(gender) {
                case 'male': return '‚ôÇÔ∏è';
                case 'female': return '‚ôÄÔ∏è';
                default: return 'üí´';
            }
        }

        // Show Owner Controls
        function showOwnerControls() {
            // Show owner controls on official posts
            document.querySelectorAll('.owner-controls').forEach(control => {
                control.style.display = 'block';
            });
            
            // Add owner controls to header
            const headerContainer = document.querySelector('.header-container');
            if (!document.getElementById('ownerPanelBtn')) {
                const ownerBtn = document.createElement('button');
                ownerBtn.id = 'ownerPanelBtn';
                ownerBtn.className = 'action-btn';
                ownerBtn.innerHTML = 'üëë Owner Panel';
                ownerBtn.onclick = showOfficialControls;
                ownerBtn.style.marginLeft = '1rem';
                headerContainer.appendChild(ownerBtn);
            }
        }

        // Show Official Controls Modal
        function showOfficialControls() {
            if (appState.currentUser.id === 'LOVE001') {
                officialControlsModal.style.display = 'flex';
            } else {
                alert('‚ùå Owner access required.');
            }
        }

        // Visit User Profile
        function visitUserProfile(userId) {
            if (userId === 'LOVE001') {
                // Show admin profile
                const admin = appState.adminAccount;
                document.getElementById('userProfileAvatar').textContent = admin.avatar;
                document.getElementById('userProfileName').textContent = admin.name;
                document.getElementById('userProfileUID').textContent = `UID: ${admin.id}`;
                document.getElementById('userProfileGender').textContent = getGenderEmoji(admin.gender) + ' ' + admin.gender.charAt(0).toUpperCase() + admin.gender.slice(1);
                document.getElementById('userProfileBio').textContent = admin.bio;
                document.getElementById('userPostsCount').textContent = admin.posts || 0;
                document.getElementById('userConnectionsCount').textContent = admin.connections || 0;
                document.getElementById('userIntimacyScore').textContent = admin.intimacy ? admin.intimacy + '%' : '0%';
                
                userProfileModal.style.display = 'flex';
            } else {
                // Show regular user profile
                const user = appState.users.find(u => u.id === userId);
                if (user) {
                    document.getElementById('userProfileAvatar').textContent = user.avatar;
                    document.getElementById('userProfileName').textContent = user.name;
                    document.getElementById('userProfileUID').textContent = `UID: ${user.id}`;
                    document.getElementById('userProfileGender').textContent = getGenderEmoji(user.gender) + ' ' + (user.gender || 'Other');
                    document.getElementById('userProfileBio').textContent = user.bio;
                    document.getElementById('userPostsCount').textContent = user.posts || 0;
                    document.getElementById('userConnectionsCount').textContent = user.connections || 0;
                    document.getElementById('userIntimacyScore').textContent = user.intimacy ? user.intimacy + '%' : '0%';
                    
                    userProfileModal.style.display = 'flex';
                } else {
                    alert('User not found!');
                }
            }
        }

        // Edit Profile
        function editProfile() {
            if (!appState.currentUser) {
                alert('Please login first!');
                return;
            }
            
            // Populate edit form with current data
            document.getElementById('editName').value = appState.currentUser.name;
            document.getElementById('editBio').value = appState.currentUser.bio;
            
            // Set current gender
            appState.editSelectedGender = appState.currentUser.gender;
            document.querySelectorAll('#editProfileModal .gender-option').forEach(opt => {
                opt.classList.remove('selected');
                if (opt.dataset.gender === appState.currentUser.gender) {
                    opt.classList.add('selected');
                }
            });
            
            // Show edit modal
            editProfileModal.style.display = 'flex';
            profileModal.style.display = 'none';
        }

        // Save Profile
        function saveProfile() {
            const newName = document.getElementById('editName').value;
            const newBio = document.getElementById('editBio').value;
            const avatarFile = document.getElementById('editAvatar').files[0];
            
            if (!newName.trim()) {
                alert('Please enter a valid name!');
                return;
            }
            
            // Update user data
            appState.currentUser.name = newName;
            appState.currentUser.bio = newBio;
            appState.currentUser.gender = appState.editSelectedGender || appState.currentUser.gender;
            
            // Handle avatar upload
            if (avatarFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    appState.currentUser.avatar = e.target.result;
                    updateUI();
                };
                reader.readAsDataURL(avatarFile);
            }
            
            // Save to localStorage
            localStorage.setItem('loveStoryUser', JSON.stringify(appState.currentUser));
            if (appState.currentUser.email) {
                localStorage.setItem('loveStoryUser_email_' + appState.currentUser.email, JSON.stringify(appState.currentUser));
            }
            
            // Update UI
            updateUI();
            
            // Close modal
            editProfileModal.style.display = 'none';
            
            alert('‚ú® Profile updated successfully!');
        }

        // Initialize App
        function initApp() {
            // Check if user is logged in
            const savedUser = localStorage.getItem('loveStoryUser');
            if (!savedUser) {
                loginModal.style.display = 'flex';
            } else {
                appState.currentUser = JSON.parse(savedUser);
                updateUI();
                
                // Show owner controls if admin is logged in
                if (appState.currentUser.id === 'LOVE001') {
                    showOwnerControls();
                }
            }
            
            // Initialize sample users for discover section
            initializeSampleUsers();
            initializeConversations();
        }

        // [Rest of the functions remain the same as previous implementation]
        // ... (initializeSampleUsers, populateDiscoverGrid, createPost, showSection, etc.)

        // Initialize the application
        window.onload = initApp;
    </script>
</body>
</html>
